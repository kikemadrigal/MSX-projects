
DEFINEWINDOW    1 1 22 30

DEFINECONTROLS  'Q' 'A' 'O' 'P' 32 'Z' 'H' '1' '2' '3' '4'

DEFINEBLOCK     EMPTYBLOCK
                0 0 0 0 0 0 0 0
                241 241 241 241 241 241 241 241


DEFINEBLOCK     WALLBLOCK
                127 127 127 0 247 247 247 0
                209 129 97 129 209 129 97 129


DEFINEBLOCK     EMPTYBLOCK
                0 0 0 112 112 112 112 255
                248 248 248 248 248 248 248 248


DEFINEBLOCK     EMPTYBLOCK
                3 7 7 3 3 3 3 3
                248 248 248 248 248 248 248 248



DEFINESPRITE    1
                0 0 0 0 7 7 7 127
                127 7 7 7 7 0 0 0
                0 0 0 0 128 128 128 248
                252 248 128 128 128 0 0 0

DEFINESPRITE    1
                254 254 254 0 0 0 0 31
                31 0 0 0 0 254 254 254
                0 0 0 0 0 0 0 248
                248 0 0 0 0 0 0 0

DEFINESPRITE    1
                0 0 0 0 0 0 0 255
                255 0 0 0 0 0 0 0
                0 0 0 0 0 0 0 255
                255 0 0 0 0 0 0 0


DEFINEOBJECT    255 8 8
                0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
                17 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241 241



DEFINESCREEN      0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
                  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
SPRITEPOSITION  0 0 15 96 88
SPRITEPOSITION  1 1 15 96 88

MAP             WIDTH 3
                STARTSCREEN 0
                255   0 255
ENDMAP

DEFINEFONT      0 0 0 0 0 0 0 0
                20 28 8 16 16 0 48 0
                34 102 68 136 0 0 0 0
                108 36 126 72 252 72 144 0
                8 28 42 16 24 108 56 32
                0 62 84 104 22 58 76 0
                24 44 40 50 84 204 114 0
                8 24 16 32 0 0 0 0
                8 16 32 32 32 48 28 0
                16 8 4 4 4 12 56 0
                0 34 52 30 120 44 68 0
                0 8 8 126 16 16 0 0
                0 0 0 0 8 24 16 32
                0 0 0 47 244 0 0 0
                0 0 0 0 0 24 16 0
                4 8 24 16 32 64 96 0
                28 38 66 66 66 100 56 0
                16 48 16 16 16 20 56 0
                24 36 70 4 24 34 126 0
                56 36 2 28 6 68 56 0
                4 20 36 68 126 8 8 0
                62 32 92 102 2 70 60 0
                28 50 96 76 82 102 60 0
                126 132 8 24 16 32 48 0
                60 98 38 24 100 70 60 0
                60 102 74 50 6 76 56 0
                0 0 24 16 0 24 16 0
                0 0 24 16 8 24 16 32
                0 0 8 16 48 24 12 0
                0 0 126 0 126 0 0 0
                0 0 16 8 12 24 48 0
                28 38 4 8 28 0 24 0
                56 68 148 168 178 196 120 0
                12 12 20 36 108 86 132 0
                92 226 68 92 98 66 124 0
                28 34 66 128 128 130 124 0
                56 196 66 66 68 76 240 0
                92 226 64 120 192 66 124 0
                124 194 64 248 64 64 192 0
                28 34 64 142 132 140 122 0
                66 198 66 126 66 66 66 132
                56 80 16 16 16 20 56 0
                62 8 8 4 132 136 112 0
                66 198 72 112 72 68 66 128
                64 192 64 64 64 98 220 0
                132 204 180 148 132 197 134 0
                198 98 82 74 70 66 66 4
                24 36 66 130 130 132 120 0
                92 226 68 88 96 64 96 128
                28 38 66 130 146 204 121 6
                92 226 68 88 104 69 198 0
                12 20 32 28 2 134 124 0
                124 146 16 16 16 16 48 0
                68 66 66 130 132 200 112 0
                102 162 34 36 40 48 32 0
                66 198 66 82 90 102 66 0
                50 84 24 24 40 74 140 0
                98 164 36 24 16 16 24 0
                60 68 8 16 32 66 252 0
                60 32 32 32 32 48 76 0
                96 48 16 8 12 4 2 0
                50 12 4 4 4 4 60 0
                16 16 40 108 170 40 40 40
                0 0 0 0 0 0 0 255
                12 18 16 126 16 32 114 140
                254 254 106 150 0 0 80 0
                255 237 120 32 0 0 0 0
                0 24 36 64 64 68 56 0
                6 50 74 70 66 70 58 0
                0 24 36 72 80 100 56 0
                28 36 32 120 32 32 48 64
                0 26 36 68 56 4 66 252
                192 64 88 100 66 67 66 0
                24 16 8 24 8 8 12 0
                12 8 4 12 4 4 8 48
                192 64 76 84 104 90 196 0
                48 16 16 16 16 20 56 0
                0 108 212 84 84 86 84 0
                0 72 212 100 68 70 68 0
                0 28 34 66 66 100 56 0
                0 88 228 66 98 92 64 64
                0 60 68 132 140 116 6 4
                0 54 90 16 16 24 32 0
                0 26 36 16 72 132 120 0
                8 16 126 16 16 20 24 0
                0 76 132 132 132 206 116 0
                0 70 194 66 68 104 48 0
                0 66 129 129 137 217 110 0
                0 34 84 24 24 164 66 0
                0 98 34 68 60 4 114 140
                0 62 68 8 16 34 124 0
                4 8 16 112 16 24 14 0
                8 8 8 8 16 16 16 16
                32 16 8 14 8 24 112 0
                1 50 94 204 0 0 0 0
                60 102 219 177 177 219 102 60


EVENT PLAYER

LET V = X
LET W = Y






 IF KEY UP
 
  IF CANGOUP
   SPRITEUP
  ENDIF
 ENDIF
 IF KEY DOWN
  IF CANGODOWN
   SPRITEDOWN
  ENDIF
 ENDIF
 IF KEY LEFT
  IF CANGOLEFT
   SPRITELEFT
  ENDIF
 ENDIF
 IF KEY RIGHT
  IF CANGORIGHT
   SPRITERIGHT
  ENDIF
 ENDIF
 
 STAR 0






IF KEY FIRE
        SOUND 2
        SPAWN 2 2
        SPAWNED
            LET X= V
            ADD 8 TO X
            LET Y= W
            LET DIRECTION = RIGHT
        ENDSPRITE
ENDIF
EVENT SPRITETYPE1

LET X = V
LET Y = W



EVENT SPRITETYPE2
IF DIRECTION UP
    REPEAT 6
        IF CANGOUP
            SPRITEUP
            IF Y < TOPEDGE
                REMOVE
            ENDIF
        ELSE
            REMOVE
        ENDIF
    ENDREPEAT
ENDIF
IF DIRECTION DOWN
    REPEAT 6
        IF CANGODOWN
            SPRITEDOWN
            IF Y > BOTTOMEDGE
                REMOVE
            ENDIF
        ELSE
            REMOVE
        ENDIF
    ENDREPEAT
ENDIF
IF DIRECTION LEFT
    REPEAT 6
        IF CANGOLEFT
            SPRITELEFT
            ;Si la bala ha salido de la pantalla  la borramos
            IF X < LEFTEDGE
                ;Marcamos para que se pueda volver a disparar el player
                LET D = 1
                ;Marcamos para que se pueda volver a disparar el boss
                LET O = 1
                REMOVE
            ENDIF
        ;Si ha tropezad con un bloque wall la borramos
        ELSE
            ;Marcamos para que se pueda volver a disparar el player
            LET D = 1
            ;Marcamos para que se pueda volver a disparar el boss
            LET O = 1
            REMOVE
        ENDIF
    ENDREPEAT
ENDIF
IF DIRECTION RIGHT
    REPEAT 6
        IF CANGORIGHT
            SPRITERIGHT
            IF Y > RIGHTEDGE
                ;Marcamos para que se pueda volver a disparar el player
                LET D = 1
                ;Marcamos para que se pueda volver a disparar el boss
                LET O = 1
                REMOVE
            ENDIF
        ELSE
            ;Marcamos para que se pueda volver a disparar el player
            LET D = 1
            REMOVE
        ENDIF
    ENDREPEAT
ENDIF
ANIMATE FAST

EVENT SPRITETYPE3


EVENT SPRITETYPE4


EVENT SPRITETYPE5


EVENT SPRITETYPE6


EVENT SPRITETYPE7


EVENT SPRITETYPE8

EVENT INITSPRITE

if type=0
	spriteink 2
endif

if type=1
	spriteink 6
endif

EVENT MAINLOOP1


IF KEY FIRE3
    WHILE KEY FIRE3
    ENDWHILE
    WAITKEY
ENDIF

EVENT MAINLOOP2


EVENT INTROMENU


;LET CONTROL = 99
;WHILE CONTROL >= 99
;    CLS
;    AT 8 10
;    PRINT "1. KEYBOARD"
;    AT 10 10
;    PRINT "2. KEMPSTON"
;    AT 12 10
;    PRINT "3. SINCLAIR"
;    AT 14 10
;    PRINT "4. REDEFINE"
;    LET CONTROL = 99
;    WHILE CONTROL = 99
;        IF KEY OPTION1
;            LET CONTROL = 0
;        ENDIF
;        IF KEY OPTION2
;            LET CONTROL = 1
;        ENDIF
;        IF KEY OPTION3
;            LET CONTROL = 2
;        ENDIF
;        IF KEY OPTION4
;            CLS
;            AT 3 9
;            PRINT "PRESS KEY FOR:"
;            AT 6 12
;            WHILE KEY OPTION4
;            ENDWHILE
;            PRINT "PAUSE"
;            DEFINEKEY FIRE3
;            LET CONTROL = 100
;        ENDIF
;    ENDWHILE
;ENDWHILE
;CLS

EVENT GAMEINIT


LET LIVES = 3
AT 6 25
DISPLAY LIVES

AT 2 25
SHOWSCORE

AT 10 25
SHOWHIGH



colour 11

;AT 18 1
;TICKER 31 "ababababababababababa"
AT 22 1
TICKER 31 "ababab  aba  baba  ba"
;AT 23 1
;TICKER 31 "                     "

EVENT RESTARTSCREEN


EVENT FELLTOOFAR


EVENT KILLPLAYER


SUBTRACT 1 FROM LIVES
AT 6 25
DISPLAY LIVES


EVENT LOSTGAME


EVENT COMPLETEDGAME


EVENT NEWHIGHSCORE


EVENT COLLECTBLOCK

